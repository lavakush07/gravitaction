{% include 'navbar.html' %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>hey</title>
    <link rel="stylesheet" href="../static/styles.css">
  
</head>

<body>
    <style>
        .flex-container {
            width: 100%;
            align-items: center;
            align-self: center;
            justify-content: space-around;
            display: flex;
          /* flex-wrap: nowrap; */
         /* background-color: pink; */
        }
        
        .flex-container > div {
          background-image: linear-gradient(to bottom right, #28597E, rgb(17, 16, 16),rgb(15, 15, 15), black);
          border-radius: 1rem;
          background-color: #f1f1f1;
         
          width: 80%;
          margin: 3rem;
          height: 15rem;
          /* text-align: center; */
          /* line-height: 75px;
          font-size: 30px; */
        }
        .flex-container2 {
            width: 100%;
            align-items: center;
            align-self: center;
            justify-content: space-around;
            display: flex;
          /* flex-wrap: nowrap; */
         /* background-color: pink; */
        }
        
        .inside{
          margin-top: 4rem;
          margin-bottom: 3rem;
          height: 8rem;
          background-color: #202F3A;
          border-radius: 1rem;
        }
        .flex-container2 > div {
            
     
          background-color: transparent;
          width: 80%;
          margin: 3rem;
          height: 10rem;
          /* text-align: center;
          line-height: 75px;
          font-size: 30px; */
        }

        .ptop{
            color: rgb(219, 216, 216); margin-left: 2rem; float: left; margin-top: 2rem;
        }
        .pbottom{
          
            color: white; font-size: large; float: left; margin-top: 5rem; margin-left: -3rem;
        }
   
        .graph{
          margin-left: 3rem;
          margin-top: 3rem;
          
          /* background-color: rgb(26, 24, 24); */
        }

        .common{
          margin-top: 5rem;
          height: 2rem;
          /* width: 90%; */
          background-color: #E0935B;
        }
        
        
        .graph-text{
          font-weight: bold;
          margin-left: 1rem;
          color: #252528;
        }
        </style>
    <br><br>
    <h1 style="margin-left: 3rem;">Performance Analysis</h1>
    <h1 style="float: right; margin-right: 3rem; margin-top: -3rem;">Score: <span style="color: white;">{{score}}/100</span></h1>
    <center><div class="flex-container">
        <div><p class="ptop" >Pace</p> <br><p class="pbottom">{{paceResult}} words/min</p></div>
        <div><p class="ptop">Confidence</p> <br><p class="pbottom" style="margin-left: -6.7rem;">{{ confidence }}</p></div>
        <div><p class="ptop">Grammatical Errors</p> <br><p class="pbottom" style="margin-left: -5rem;">{{ grammarLen }}</p></div>
      </div></center>
      <br><br>
      <h1 style="margin-left: 3rem; font-size: smaller;">Most frequently used words</h1>
      <div class="barchart">
        <link href="https://fonts.googleapis.com/css?family=Lato:400,700" rel="stylesheet">

<div class="graph">
<!-- <div class="first common">
  <p class="graph-text">{{names[0]}}</p>
</div> -->
<div class="second common">
  <!-- <p class="graph-text">{{names[1]}}</p> -->
</div>
<!-- <div class="third common"><p class="graph-text">{{names[2]}}</p></div> -->
<!-- <div class="fourth common"><p class="graph-text">{{names[3]}}</p></div> -->
<!-- <div class="fifth common"><p class="graph-text">{{names[4]}}</p></div> -->
</div>
      </div>
      <br><br>
      <center>
        <div class="flex-container2">
          <div>
            <p class="ptop">Vocabulary Index</p><br>
            <div class="inside">
              <p style="color: white; font-size: 3rem; float: left; margin-top: 2rem; margin-left: 3rem;">{{vocab}}</p>
            </div>
          </div>
          <div>
            <p class="ptop">Filler Word Count</p><br>
            <div class="inside"><p style="color: white; font-size: 3rem; float: left; margin-top: 2rem; margin-left: 3rem;">{{fillerLen}}</p></div>
          </div>
          <div>
            <p class="ptop" style="width: 90%;">Banned Words Count</p><br>
            <div class="inside"><p style="color: white; font-size: 3rem; float: left; margin-top: 2rem; margin-left: 3rem;">{{ bannedLen }}</p></div>
            </div>
          </div>
       </center>
      <br><br><br>
</body>
<script>
  const graphDiv = document.querySelector('.graph')
  const ref = ['first', 'second', 'third', 'fourth', 'fifth']
  var f = {{ frequent | tojson }}
  let w;
  let maxf = f[0][1]
  let innerGraph = ""
  f.map((element, index) => {
    w = element[1] * 90 / maxf
    innerGraph += `
    <div class="${ref[index]} common" style="width: ${w}%;">
      <p class="graph-text">${element[0]}</p>
    </div>
    
    
    `
  })

  graphDiv.innerHTML = innerGraph;





</script>



</html>
